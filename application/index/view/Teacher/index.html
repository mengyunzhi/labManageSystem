{extend name="Teacher/nav"}
{block name="title"}梦云智选课系统{/block}
{block name="content"}

<div class="row"><div class="col-md-12 header">当前周次:第一周</div></div>
<div class="container">
    <!-- 搜索功能-->
    <div class="row">
        <h3>按条件查询:</h3>
    </div>
    <div class="row	blacknav">
        <div class="col-md-12">
            <form action="{:url('index')}" method="post">
                <div class="row">
                    <div class="col-md-3">
                        <label>学期:</label>
                        <select class="btn btn-default dropdown-toggle">

                        </select>
                    </div>
                    <div class="col-md-3">
                        <label>周次：</label>
                        <select class="btn btn-default dropdown-toggle" name="weekly">
                          <option value="1">选择周次</option>
                          <option value="1">第一周</option>
                          <option value="2">第二周</option>
                          <option value="3">第三周</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                    <label>选择教室：</label>
                    <select class="btn btn-default dropdown-toggle" name="classroom_num">
                        <option value="1">选择教室</option>
                        {volist name="allClassroom" id="classroom"}
                        <option value="{$classroom->id}">{$classroom->name}</option>
                        {/volist}
                    </select>
                    </div>
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-default">搜索</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <!-- 表格 -->
        <div class="col-md-12">
            <!-- 显示信息表格 -->
            <!-- 表格 -->
            <table class="table table-hover table-bordered">
                <tr class="info">
                    <th>星期/节次</th>
                    <th>星期一</th>
                    <th>星期二</th>
                    <th>星期三</th>
                    <th>星期四</th>
                    <th>星期五</th>
                    <th>星期六</th>
                    <th>星期日</th>
                </tr>
                {volist name="weekList" id="nodeList" key="key"}
                <tr>
                <td>第{$key}节</td>
                {volist name="nodeList" id="weekly"}
                <td style="text-align: center;">{eq name="weekly->teacher_id" value="0"}还没有课<br><span>赶紧点击</span><br><a data-toggle="modal" data-target="#TakeLessons" >抢课</a>
                    <span class="glyphicon glyphicon-resize-horizontal" aria-hidden="true"></span><a data-toggle="modal" data-target="#AdjustLessons" >调课</a>
                    {else/}已经有课了<br><span style="margin-right: 10px;">张三老师 软件173班</span><br><span class="glyphicon glyphicon-circle-arrow-right" aria-hidden="true">
                        <a style="margin-left: 10px;" data-toggle="modal" data-target="#ChangeLessons" >换课</a></span>{/eq}</td>
                {/volist}
                </tr>
                {/volist}
            </table>
        </div>
    </div>
</div>
<!-- Button trigger modal -->

<!-- Modal -->
<div class="modal fade" id="ChangeLessons" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">换课</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary">确认</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="TakeLessons" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">抢课</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary">确认</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="AdjustLessons" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">调课</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
          <form action="{:url('takeLesson')}" methoed="post">
              <button type="submit" class="btn btn-primary">确认</button>
              <input type="hidden" name="teacherId" value="{$Teacher->id}">
              <input type="hidden" name="timeClassroomId" value="{$TimeClassroom->id">
              <input type="hidden" name="courseId">
              <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          </form>
      </div>
    </div>
  </div>
</div>
{/block}
